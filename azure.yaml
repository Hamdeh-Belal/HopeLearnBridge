# yaml-language-server: $schema=https://raw.githubusercontent.com/Azure/azure-dev/main/schemas/v1.0/azure.yaml.json

name: HopeLearnBridge

metadata:
  template: HopeLearnBridge

infra:
  provider: bicep
  path: ./infra/biceps
  module: main

resourceGroup: "${AZURE_RESOURCE_GROUP}"

services:
  backend:
    project: ./src/backend/hopeLearnBridge
    host: appservice
    language: csharp

  frontend:
    project: ./src/frontend
    host: staticwebapp
    language: ts
    dist: dist

hooks:
  preprovision:
    shell: pwsh
    continueOnError: false
    interactive: false
    run: "./infra/scripts/preProvision/validateBicepTemplate.ps1"

requiredVersions:
  azd: '>= 1.10.1'